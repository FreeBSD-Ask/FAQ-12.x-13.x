# 13.2. 什么是 securelevel？

`securelevel`是在内核中实现的一种安全机制。当securelevel为正时，内核会限制某些任务；甚至超级用户（`root'）也不允许做这些任务。安全级别机制限制了以下的能力:

- 解除某些文件标志，如`schg`（系统不可改变的标志）。
- 通过 **/dev/mem** 和 **/dev/kmem** 向内核内存写入。
- 加载内核模块。
- 修改防火墙规则。

要检查运行中的系统上的安全级别的状态:

```
# sysctl -n kern.securelevel
```

输出包含securelevel的当前值。如果它大于0，说明至少有一些securelevel的保护功能被启用。

运行中的系统的安全级别不能被降低，因为这将违背其目的。如果一个任务要求securelevel为非正值，请改变 **/etc/rc.conf** 中的`kern_securelevel`和`kern_securelevel_enable`变量，并重新启动。

关于securelevel的更多信息以及所有级别的具体作用，请参考[init(8)](https://www.freebsd.org/cgi/man.cgi?query=init&sektion=8&format=html)。

Securelevel不是银弹；它有许多已知的不足之处。更多时候，它提供了一种虚假的安全感。

它最大的问题之一是，为了使它完全有效，在启动过程中使用的所有文件直到安全级别被设置之前都必须受到保护。如果攻击者能够在安全级别设置之前让系统执行他们的代码（这发生在启动过程的后期，因为系统在启动时必须做的一些事情不能在高的安全级别下完成），其保护措施就会失效。虽然保护启动过程中使用的所有文件的任务在技术上并非不可能，但如果实现了，系统维护将成为一场噩梦，因为人们必须关闭系统，至少在单用户模式下才能修改一个配置文件。

这个问题和其他问题经常在邮件列表中讨论，特别是 FreeBSD 安全邮件列表。在这里的档案中可以搜索到广泛的讨论。一个更细化的机制是首选。

