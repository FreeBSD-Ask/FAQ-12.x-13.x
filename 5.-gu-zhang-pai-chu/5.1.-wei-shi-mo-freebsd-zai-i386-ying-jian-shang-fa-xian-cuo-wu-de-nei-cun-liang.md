# 5.1. 为什么 FreeBSD 在 i386™ 硬件上发现错误的内存量？

最可能的原因是物理内存地址和虚拟地址之间的差异。

大多数 PC 硬件的惯例是将 3.5GB 和 4GB 之间的内存区域用于特殊用途（通常用于 PCI）。这个地址空间被用来访问 PCI 硬件。因此，真实的物理内存不能被该地址空间访问。

应该出现在该位置的内存会发生什么，取决于硬件。不幸的是，有些硬件什么也不做，使用最后 500MB 内存的能力就完全丧失了。

幸运的是，大多数硬件将内存重新映射到一个较高的位置，这样它仍然可以被使用。然而，这在观察启动信息时可能会引起一些混乱。

在 32 位版本的 FreeBSD 上，内存似乎丢失了，因为它将被重新映射到 4GB 以上，而 32 位内核是无法访问的。在这种情况下，解决方案是建立一个支持 PAE 的内核。更多信息请参见关于内存限制的条目。

在 64 位版本的 FreeBSD 中，或者在运行支持 PAE 的内核时，FreeBSD 会正确地检测并重新映射内存，使其可以使用。然而，在启动过程中，由于所描述的重新映射，FreeBSD 检测到的内存可能会比系统实际拥有的多。这是正常现象，可用的内存会在启动过程完成后被修正。
